(this["webpackJsonpems-report"]=this["webpackJsonpems-report"]||[]).push([[0],{134:function(e,a,t){e.exports=t.p+"static/media/smart-fi.c74a4a94.png"},161:function(e,a,t){e.exports=t(235)},166:function(e,a,t){},168:function(e,a,t){},234:function(e,a,t){e.exports=t.p+"static/media/bg22-l.68eafff8.jpg"},235:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),c=t.n(l),s=(t(166),t(167),t(20)),o=(t(168),t(70)),i=t(277),m=t(276),u=t(271),p=t(287),d=t(285),E=t(279),f=t(275),b=t(113),g=t(272),v=t(273),h=t(135),x=t.n(h),w=t(140),N=t.n(w),y=t(278),j=t(90),O=t(274),k=t(136),S=t.n(k),C=t(137),D=t.n(C),M=t(138),L=t.n(M),P=t(139),F=t.n(P),B=t(269),R=t(14),H=t(134),I=t.n(H),J=Object(B.a)((function(e){var a;return{root:{display:"flex"},drawer:Object(o.a)({},e.breakpoints.up("sm"),{width:300,flexShrink:0}),nested:{paddingLeft:e.spacing(4)},appBar:(a={},Object(o.a)(a,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(300,"px)"),marginLeft:300}),Object(o.a)(a,"background","#0dc5c2"),a),menuButton:Object(o.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:300},content:{flexGrow:1,padding:e.spacing(3)}}}));var U=function(e){var a=e.window,t=J(),n=Object(R.a)(),l=r.a.useState(!1),c=Object(s.a)(l,2),o=c[0],h=c[1],w=r.a.useState(!1),k=Object(s.a)(w,2),C=k[0],M=k[1],P=function(){h(!o)},B=r.a.createElement("div",null,r.a.createElement("div",{className:t.toolbar,style:{justifyContent:"center",display:"flex",padding:"10px"}},r.a.createElement("img",{style:{maxHeight:"80px",borderRadius:"5px"},src:I.a,alt:"User Login"})),r.a.createElement(u.a,null),r.a.createElement(b.a,{button:!0,onClick:function(){M(!C)}},r.a.createElement(g.a,null,r.a.createElement(x.a,null)),r.a.createElement(v.a,{primary:"Reports"}),C?r.a.createElement(S.a,null):r.a.createElement(D.a,null)),r.a.createElement(O.a,{in:C,timeout:"auto",unmountOnExit:!0},r.a.createElement(f.a,{component:"div",disablePadding:!0},r.a.createElement(b.a,{button:!0,className:t.nested},r.a.createElement(g.a,null,r.a.createElement(L.a,null)),r.a.createElement(v.a,{primary:"Historical Data"})),r.a.createElement(b.a,{button:!0,className:t.nested},r.a.createElement(g.a,null,r.a.createElement(F.a,null)),r.a.createElement(v.a,{primary:"Report By Interval"}))))),H=void 0!==a?function(){return a().document.body}:void 0;return r.a.createElement("div",{className:t.root},r.a.createElement(m.a,null),r.a.createElement(i.a,{position:"fixed",className:t.appBar},r.a.createElement(y.a,null,r.a.createElement(E.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:P,className:t.menuButton},r.a.createElement(N.a,null)),r.a.createElement(j.a,{variant:"h6",noWrap:!0},"Welcome ",e.user.userName))),r.a.createElement("nav",{className:t.drawer,"aria-label":"mailbox folders"},r.a.createElement(d.a,{smUp:!0,implementation:"css"},r.a.createElement(p.a,{container:H,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:o,onClose:P,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},B)),r.a.createElement(d.a,{xsDown:!0,implementation:"css"},r.a.createElement(p.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},B))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(e.page,null)))},W=t(62),q=t.n(W),z=t(85),T=t(239),G=t(281),A=t(143),K=t(100),Q=t(283),V=t(16),X=t(284),Y=t(141),Z=t.n(Y),$=t(63),_=t.n($),ee=(t(192),Object(B.a)((function(e){return{root:{"& > *":{padding:e.spacing(2)}}}}))),ae=function(){var e=r.a.useState([]),a=Object(s.a)(e,2),t=a[0],l=a[1],c=r.a.useState([]),o=Object(s.a)(c,2),i=o[0],m=o[1],u=r.a.useState([]),p=Object(s.a)(u,2),d=p[0],E=p[1],f=r.a.useState([]),b=Object(s.a)(f,2),g=b[0],v=b[1],h=r.a.useState(new Date(Date.now()).setHours(0,0,0,0)),x=Object(s.a)(h,2),w=x[0],N=x[1],y=r.a.useState(Date.now()),O=Object(s.a)(y,2),k=O[0],S=O[1],C=Object(n.useState)(!1),D=Object(s.a)(C,2),M=D[0],L=D[1],P=Object(n.useState)(),F=Object(s.a)(P,2),B=F[0],R=F[1],H=ee();Object(n.useEffect)((function(){_.a.get("https://ems-dev.azurewebsites.net/api/meter").then((function(e){E(e.data.map((function(e){return e.meterName})))})),_.a.get("https://ems-dev.azurewebsites.net/api/parameter").then((function(e){v(e.data)}))}),[]);var I=function(){var e=Object(z.a)(q.a.mark((function e(a){var n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={startDate:new Date(w).toJSON(),endDate:new Date(k).toJSON(),meter:t,parameter:i},console.log(JSON.stringify(n)),e.next=4,_.a.post("https://ems-dev.azurewebsites.net/api/Report/HistoricalData",n);case 4:r=e.sent,console.log(r.data),R(r.data),L(!0);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:H.root,style:{display:"flex",justifyContent:"center"}},r.a.createElement(T.a,{style:{maxWidth:"500px"}},r.a.createElement(j.a,{variant:"h4",gutterBottom:!0},"Historical Data"),r.a.createElement(V.a,{utils:A.a},r.a.createElement(G.a,{container:!0,spacing:3},r.a.createElement(G.a,{xs:6,item:!0},r.a.createElement(X.a,{label:"Start Date",value:w,onChange:N,format:"dd MMM yyyy  hh:mm a",fullWidth:!0})),r.a.createElement(G.a,{xs:6,item:!0},r.a.createElement(X.a,{label:"End Date",value:k,onChange:S,format:"dd MMM yyyy  hh:mm a",fullWidth:!0})))),r.a.createElement(K.MultipleSelect,{style:{marginTop:"10px"},label:"Select Meters",values:t,options:d,onChange:function(e){l(e)}}),r.a.createElement(K.MultipleSelect,{style:{marginTop:"10px"},label:"Select Parameters",values:i,options:g,onChange:function(e){m(e)}}),r.a.createElement(Q.a,{variant:"contained",style:{marginTop:"10px"},color:"primary",onClick:I},"Generate Report"))),M&&r.a.createElement(Z.a,{columns:i.map((function(e){return{name:e,key:e}})),objects:B}))},te=(t(234),function(e){var a=e.setLoggedIn,t=e.setUser,l=Object(n.useState)(""),c=Object(s.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(""),u=Object(s.a)(m,2),p=u[0],d=u[1];Object(n.useEffect)((function(){var e=document.createElement("script");e.src="/ems-report/js/main.js",e.async=!0,document.body.appendChild(e)}),[]);var E=function(){var e=Object(z.a)(q.a.mark((function e(n){var r,l;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={userName:o,userPassword:p},e.prev=2,e.next=5,_.a.post("https://ems-dev.azurewebsites.net/api/Login/Create",r);case 5:l=e.sent,a(!0),t(l.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert("Invalid credentials");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"fxt-template-animation fxt-template-layout22","data-bg-image":"/ems-report/img/figure/bg22-l.jpg"},r.a.createElement("div",{className:"star-animation"},r.a.createElement("div",{id:"stars1"}),r.a.createElement("div",{id:"stars2"}),r.a.createElement("div",{id:"stars3"}),r.a.createElement("div",{id:"stars4"}),r.a.createElement("div",{id:"stars5"})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-6 col-12 fxt-none-991"}),r.a.createElement("div",{className:"col-lg-6 col-12 fxt-bg-color"},r.a.createElement("div",{className:"fxt-content"},r.a.createElement("div",{className:"fxt-form"},r.a.createElement("h2",null,"Login"),r.a.createElement("p",null,"Smart-Fi "),r.a.createElement("form",{onSubmit:E},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email",className:"input-label"},"User Name"),r.a.createElement("input",{type:"text",id:"email",className:"form-control",name:"email",placeholder:"",required:"required",value:o,onChange:function(e){i(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password",className:"input-label"},"Password"),r.a.createElement("input",{id:"password",type:"password",className:"form-control",name:"password",placeholder:"********",required:"required",value:p,onChange:function(e){d(e.target.value)}}),r.a.createElement("i",{toggle:"#password",className:"fa fa-fw fa-eye toggle-password field-icon"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"fxt-checkbox-area"},r.a.createElement("div",{className:"checkbox"},r.a.createElement("input",{id:"checkbox1",type:"checkbox"}),r.a.createElement("label",{htmlFor:"checkbox1"},"Keep me logged in")),r.a.createElement("a",{href:"#",className:"switcher-text"},"Forgot Password"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"fxt-btn-fill"},"Log in")))),r.a.createElement("div",{className:"fxt-style-line"},r.a.createElement("h3",null,"Follow us on Social Media")),r.a.createElement("ul",{className:"fxt-socials"},r.a.createElement("li",{className:"fxt-facebook"},r.a.createElement("a",{href:"#",title:"Facebook"},"Twitter")),r.a.createElement("li",{className:"fxt-twitter"},r.a.createElement("a",{href:"#",title:"twitter"},"Facebook")),r.a.createElement("li",{className:"fxt-linkedin"},r.a.createElement("a",{href:"#",title:"linkedin"},"Linkedin"))),r.a.createElement("div",{className:"fxt-footer"},r.a.createElement("p",null,"Don't have an account?",r.a.createElement("a",{href:"#",className:"switcher-text"},"Contact Administrator"))))))))});var ne=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),i=o[0],m=o[1];return t?null!=i?r.a.createElement("div",null,r.a.createElement(U,{page:ae,user:i})):"loading":r.a.createElement(te,{setLoggedIn:l,setUser:m})};c.a.render(r.a.createElement(ne,null),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.4f7fd951.chunk.js.map