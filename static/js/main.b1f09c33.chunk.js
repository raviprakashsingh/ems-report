(this["webpackJsonpems-report"]=this["webpackJsonpems-report"]||[]).push([[0],{134:function(e,a,t){e.exports=t.p+"static/media/smart-fi.c74a4a94.png"},161:function(e,a,t){e.exports=t(239)},166:function(e,a,t){},168:function(e,a,t){},239:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),c=t.n(l),s=(t(166),t(167),t(15)),o=(t(168),t(70)),i=t(282),m=t(281),u=t(276),d=t(292),p=t(290),E=t(284),f=t(280),g=t(113),b=t(277),v=t(278),h=t(135),x=t.n(h),y=t(140),w=t.n(y),N=t(283),j=t(90),O=t(279),k=t(136),S=t.n(k),D=t(137),C=t.n(D),M=t(138),F=t.n(M),L=t(139),P=t.n(L),I=t(274),T=t(14),B=t(134),H=t.n(B),R=Object(I.a)((function(e){var a;return{root:{display:"flex"},drawer:Object(o.a)({},e.breakpoints.up("sm"),{width:300,flexShrink:0}),nested:{paddingLeft:e.spacing(4)},appBar:(a={},Object(o.a)(a,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(300,"px)"),marginLeft:300}),Object(o.a)(a,"background","#0dc5c2"),a),menuButton:Object(o.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:300},content:{flexGrow:1,padding:e.spacing(3)}}}));var z=function(e){var a=e.window,t=R(),n=Object(T.a)(),l=r.a.useState(!1),c=Object(s.a)(l,2),o=c[0],h=c[1],y=r.a.useState(!1),k=Object(s.a)(y,2),D=k[0],M=k[1],L=function(){h(!o)},I=r.a.createElement("div",null,r.a.createElement("div",{className:t.toolbar,style:{justifyContent:"center",display:"flex",padding:"10px"}},r.a.createElement("img",{style:{maxHeight:"80px",borderRadius:"5px"},src:H.a,alt:"User Login"})),r.a.createElement(u.a,null),r.a.createElement(g.a,{button:!0,onClick:function(){M(!D)}},r.a.createElement(b.a,null,r.a.createElement(x.a,null)),r.a.createElement(v.a,{primary:"Reports"}),D?r.a.createElement(S.a,null):r.a.createElement(C.a,null)),r.a.createElement(O.a,{in:D,timeout:"auto",unmountOnExit:!0},r.a.createElement(f.a,{component:"div",disablePadding:!0},r.a.createElement(g.a,{button:!0,className:t.nested},r.a.createElement(b.a,null,r.a.createElement(F.a,null)),r.a.createElement(v.a,{primary:"Historical Data"})),r.a.createElement(g.a,{button:!0,className:t.nested},r.a.createElement(b.a,null,r.a.createElement(P.a,null)),r.a.createElement(v.a,{primary:"Report By Interval"}))))),B=void 0!==a?function(){return a().document.body}:void 0;return r.a.createElement("div",{className:t.root},r.a.createElement(m.a,null),r.a.createElement(i.a,{position:"fixed",className:t.appBar},r.a.createElement(N.a,null,r.a.createElement(E.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:L,className:t.menuButton},r.a.createElement(w.a,null)),r.a.createElement(j.a,{variant:"h6",noWrap:!0},"Welcome ",e.user.userName))),r.a.createElement("nav",{className:t.drawer,"aria-label":"mailbox folders"},r.a.createElement(p.a,{smUp:!0,implementation:"css"},r.a.createElement(d.a,{container:B,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:o,onClose:L,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},I)),r.a.createElement(p.a,{xsDown:!0,implementation:"css"},r.a.createElement(d.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},I))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(e.page,null)))},U=t(62),W=t.n(U),q=t(85),A=t(243),J=t(286),G=t(143),Y=t(100),K=t(288),Q=t(17),V=t(289),X=(t(173),t(63)),Z=t.n(X),$=(t(193),Object(I.a)((function(e){return{root:{"& > *":{padding:e.spacing(2)}}}}))),_=function(e){var a=e.getDate(),t=e.getMonth()+1,n=e.getFullYear(),r=e.getHours(),l=e.getMinutes();return a<10&&(a="0"+a),t<10&&(t="0"+t),r<10&&(r="0"+r),l<10&&(l="0"+l),a+"-"+t+"-"+n+" "+r+":"+l},ee=function(e){var a=e.getDate(),t=e.getMonth()+1,n=e.getFullYear(),r=e.getHours(),l=e.getMinutes();return a<10&&(a="0"+a),t<10&&(t="0"+t),r<10&&(r="0"+r),l<10&&(l="0"+l),n+"-"+t+"-"+a+"T"+r+":"+l},ae=function(){var e=r.a.useState([]),a=Object(s.a)(e,2),t=a[0],l=a[1],c=r.a.useState([]),o=Object(s.a)(c,2),i=o[0],m=o[1],u=r.a.useState([]),d=Object(s.a)(u,2),p=d[0],E=d[1],f=r.a.useState([]),g=Object(s.a)(f,2),b=g[0],v=g[1],h=r.a.useState(new Date(Date.now()).setHours(0,0,0,0)),x=Object(s.a)(h,2),y=x[0],w=x[1],N=r.a.useState(Date.now()),O=Object(s.a)(N,2),k=O[0],S=O[1],D=r.a.useState(15),C=Object(s.a)(D,2),M=C[0],F=C[1],L=Object(n.useState)(!1),P=Object(s.a)(L,2),I=P[0],T=P[1],B=Object(n.useState)(),H=Object(s.a)(B,2),R=H[0],z=H[1],U=$();Object(n.useEffect)((function(){Z.a.get("https://ems-dev.azurewebsites.net/api/meter").then((function(e){E(e.data.map((function(e){return e.meterName})))})),Z.a.get("https://ems-dev.azurewebsites.net/api/parameter").then((function(e){v(e.data)}))}),[]);var X=function(){var e=Object(q.a)(W.a.mark((function e(a){var n,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={startDate:ee(new Date(y)),endDate:ee(new Date(k)),meter:t,parameter:i,interval:parseInt(M)},console.log(JSON.stringify(n)),e.next=4,Z.a.post("https://ems-dev.azurewebsites.net/api/Report/HistoricalReport",n);case 4:r=e.sent,console.log(r.data),z(r.data),T(!0);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:U.root,style:{display:"flex",justifyContent:"center"}},r.a.createElement(A.a,{style:{maxWidth:"500px"}},r.a.createElement(j.a,{variant:"h4",gutterBottom:!0},"Historical Data"),r.a.createElement(Q.a,{utils:G.a},r.a.createElement(J.a,{container:!0,spacing:3},r.a.createElement(J.a,{xs:6,item:!0},r.a.createElement(V.a,{label:"Start Date",value:y,onChange:w,format:"dd MMM yyyy  hh:mm a",fullWidth:!0})),r.a.createElement(J.a,{xs:6,item:!0},r.a.createElement(V.a,{label:"End Date",value:k,onChange:S,format:"dd MMM yyyy  hh:mm a",fullWidth:!0})))),r.a.createElement(Y.MultipleSelect,{style:{marginTop:"10px"},label:"Select Meters",values:t,options:p,onChange:function(e){l(e)}}),r.a.createElement(Y.MultipleSelect,{style:{marginTop:"10px"},label:"Select Parameters",values:i,options:b,onChange:function(e){m(e)}}),r.a.createElement("select",{style:{marginTop:"10px"},value:M,onChange:function(e){F(e.target.value)}},r.a.createElement("option",{value:"1"},"1 min"),r.a.createElement("option",{value:"15"},"15 min"),r.a.createElement("option",{value:"30"},"30 min"),r.a.createElement("option",{value:"60"},"60 min")),r.a.createElement("br",null),r.a.createElement(K.a,{variant:"contained",style:{marginTop:"10px"},color:"primary",onClick:X},"Generate Report"))),I&&r.a.createElement("table",{style:{borderCollapse:"collapse",width:"100%",marginTop:"40px",background:"#fff"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{border:"1px solid #ddd",padding:"8px"}},"Log Date/Time"),r.a.createElement("th",{style:{border:"1px solid #ddd",padding:"8px"}},"MeterId"))),r.a.createElement("tbody",null,R.map((function(e){return r.a.createElement("tr",{key:e.Date},r.a.createElement("td",{style:{border:"1px solid #ddd",padding:"8px"}},_(new Date(new Date(e.Date).getTime()-6e4*parseInt(M)))," - ",_(new Date(e.Date))),r.a.createElement("td",{style:{border:"1px solid #ddd",padding:"8px"}},e.MeterId))})))))},te=t(142),ne=t.n(te),re=function(e){var a=e.setLoggedIn,t=e.setUser,l=Object(n.useState)(""),c=Object(s.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)(""),u=Object(s.a)(m,2),d=u[0],p=u[1],E=Object(n.useState)(null),f=Object(s.a)(E,2),g=f[0],b=f[1],v=Object(n.useState)(!1),h=Object(s.a)(v,2),x=h[0],y=h[1];Object(n.useEffect)((function(){var e=document.createElement("script");e.src="/ems-report/js/main.js",e.async=!0,document.body.appendChild(e)}),[]);var w=function(){var e=Object(q.a)(W.a.mark((function e(n){var r,l;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),y(!0),r={userName:o,userPassword:d},e.prev=3,e.next=6,Z.a.post("https://ems-dev.azurewebsites.net/api/Login/Create",r);case 6:l=e.sent,b(null),a(!0),t(l.data),y(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),b({type:"alert alert-danger",message:"Invalid credentials"}),y(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"fxt-template-animation fxt-template-layout22","data-bg-image":"/ems-report/img/figure/bg22-l.jpg"},r.a.createElement("div",{className:"star-animation"},r.a.createElement("div",{id:"stars1"}),r.a.createElement("div",{id:"stars2"}),r.a.createElement("div",{id:"stars3"}),r.a.createElement("div",{id:"stars4"}),r.a.createElement("div",{id:"stars5"})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-6 col-12 fxt-none-991"}),r.a.createElement("div",{className:"col-lg-6 col-12 fxt-bg-color"},r.a.createElement("div",{className:"fxt-content"},r.a.createElement("div",{className:"fxt-form"},r.a.createElement("h2",null,"Login"),r.a.createElement("p",null,"Smart-Fi "),r.a.createElement("form",{onSubmit:w},g&&r.a.createElement("div",{class:g.type,role:"alert"},g.message),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email",className:"input-label"},"User Name"),r.a.createElement("input",{type:"text",id:"email",className:"form-control",name:"email",placeholder:"",required:"required",value:o,onChange:function(e){i(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password",className:"input-label"},"Password"),r.a.createElement("input",{id:"password",type:"password",className:"form-control",name:"password",placeholder:"********",required:"required",value:d,onChange:function(e){p(e.target.value)}}),r.a.createElement("i",{toggle:"#password",className:"fa fa-fw fa-eye toggle-password field-icon"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"fxt-checkbox-area"},r.a.createElement("div",{className:"checkbox"},r.a.createElement("input",{id:"checkbox1",type:"checkbox"}),r.a.createElement("label",{htmlFor:"checkbox1"},"Keep me logged in")),r.a.createElement("a",{href:"#",className:"switcher-text",onClick:function(){return b({type:"alert alert-danger",message:"Forgot Password? Contact Administrator @ venliteinfra@gmail.com "})}},"Forgot Password"))),r.a.createElement("div",{className:"form-group"},!x&&r.a.createElement("button",{type:"submit",className:"fxt-btn-fill"},"Log in"),x&&r.a.createElement("button",{type:"submit",className:"fxt-btn-fill"},r.a.createElement(ne.a,{size:10,color:"#fff"}))))),r.a.createElement("div",{className:"fxt-style-line"},r.a.createElement("h3",null,"Follow us on Social Media")),r.a.createElement("ul",{className:"fxt-socials"},r.a.createElement("li",{className:"fxt-facebook"},r.a.createElement("a",{href:"#",title:"Facebook"},"Twitter")),r.a.createElement("li",{className:"fxt-twitter"},r.a.createElement("a",{href:"#",title:"twitter"},"Facebook")),r.a.createElement("li",{className:"fxt-linkedin"},r.a.createElement("a",{href:"#",title:"linkedin"},"Linkedin"))),r.a.createElement("div",{className:"fxt-footer"},r.a.createElement("p",null,"Don't have an account?",r.a.createElement("a",{href:"#",className:"switcher-text",onClick:function(){return b({type:"alert alert-danger",message:"Don't have an account? Contact Administrator @ venliteinfra@gmail.com "})}},"Contact Administrator"))))))))};var le=function(){var e=Object(n.useState)(!0),a=Object(s.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)({userName:"ravi"}),o=Object(s.a)(c,2),i=o[0],m=o[1];return t?null!=i?r.a.createElement("div",null,r.a.createElement(z,{page:ae,user:i})):"loading":r.a.createElement(re,{setLoggedIn:l,setUser:m})};c.a.render(r.a.createElement(le,null),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.b1f09c33.chunk.js.map